目前按照小辉提供的流程走一遍，看有没有什么问题。

有两台主机：

1. CentOS 01
2. CentOS 02

01作为master，02作为slave

如果要做到数据库读写分离，那么首先要保证两台服务器之间的数据库数据的同步。

前提条件：

1. 保证都安装好了MySQL，并且版本一致

操作步骤：

1. 锁定主服务器，将主服务器mysql数据复制到从服务器。需要配置好同步帐号。在虚拟机环境中，首先，我需要启动MySQL，并且导入16fan数据。
2. 配置同步帐号，并开始同步
3. 查看结果

导入数据库的方法：

1. 选择数据库：use abc;
2. 设置数据库编码：set names utf8;
3. 导入数据：source /home/ranwuer/data/dynosi_fan.sql

外部导入：mysql -uroot -p databasename < abc.sql

重启mysql：sudo /etc/init.d/mysqld restart

创建复制帐号，在Master的数据库中建立一个备份账户，每个slave使用标准的MySQL用户名和密码连接master。进行复制操作的用户会授予REPLICATION SLAVE权限。用户名和密码都会存储在文本文件master.info中

```
GRANT REPLICATION SLAVE, REPLICATION CLIENT ON *.*
TO repl@'192.168.0.%' IDENTIFIED BY 'p4ssword',;
```

复制：

1. 先锁定mysql：flush tables with read lock; 解锁：unlock tables;
2. 


其他：

mysql配置文件：/etc/my.cnf

在my.cnf 中把log-bin开启才能使用二进制日志功能。